{% extends 'demo.html.twig' %}

{% set demo_title = 'Item List' %}
{% set demo_description = 'Click to edit names, change status via dropdown, delete with confirmation. Uses hx-swap-oob for notifications.' %}
{% set demo_controller = 'ItemListController.php' %}
{% set demo_template = '_demo/item_list.html.twig' %}

{% use '_demo/item_list.html.twig' %}
{% set demo_csrf = true %}

{% block demo_styles %}
<style>
    tr.htmx-swapping { opacity: 0; transition: opacity 0.3s ease-out; }
    @keyframes slide-in {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    #notification .notification-alert { animation: slide-in 0.3s ease-out; }
    .notification-success {
        background: var(--pico-ins-color);
        color: var(--pico-background-color);
        padding: 1rem;
        border-radius: var(--pico-border-radius);
    }
    .notification-error {
        background: var(--pico-del-color);
        color: var(--pico-background-color);
        padding: 1rem;
        border-radius: var(--pico-border-radius);
    }
    .status-badge {
        display: inline-block;
        padding: 0.25rem 0.5rem;
        border-radius: var(--pico-border-radius);
        font-size: 0.75rem;
        font-weight: bold;
        text-transform: uppercase;
        cursor: pointer;
    }
    .status-active { background: var(--pico-ins-color); color: #fff; }
    .status-pending { background: var(--pico-mark-background-color); color: #000; }
    .status-completed { background: var(--pico-primary); color: #fff; }
    .edit-link { cursor: pointer; }
    .edit-link:hover { text-decoration: underline; }
    details.dropdown { position: relative; display: inline-block; }
    details.dropdown summary { list-style: none; cursor: pointer; }
    details.dropdown summary::-webkit-details-marker { display: none; }
    details.dropdown[open] > ul {
        position: absolute;
        z-index: 10;
        background: var(--pico-card-background-color);
        border: 1px solid var(--pico-muted-border-color);
        border-radius: var(--pico-border-radius);
        padding: 0.5rem;
        min-width: 120px;
        right: 0;
    }
    details.dropdown ul { list-style: none; margin: 0; padding: 0; }
    details.dropdown li button {
        width: 100%;
        text-align: left;
        padding: 0.5rem;
        background: none;
        border: none;
        cursor: pointer;
    }
    details.dropdown li button:hover { background: var(--pico-card-sectionning-background-color); }
</style>
{% endblock %}

{% block demo %}
{{ block('_main') }}
{% endblock %}
