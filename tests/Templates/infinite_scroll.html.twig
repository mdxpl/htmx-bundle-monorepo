{% extends 'base.html.twig' %}

{% block body %}
<h1>An infinite scroll example</h1>
<div id="items" hx-indicator="#loading-indicator">
    {{ block('items') }}
</div>
<div id="loading-indicator" class="htmx-indicator">
    <h2>Loading...</h2>
</div>
{% endblock %}

{% block items %}
{% for item in items %}
<div class="item"
    {% if loop.last %}
        hx-get="/infinite-scroll?pageNumber={{ nextPageNumber }}"
        hx-replace-url="true"
        hx-trigger="revealed"
        hx-swap="afterend"
    {% endif %}
>{{ item }}</div>
{% endfor %}
{% endblock %}